FROM ubuntu:latest 

RUN apt update && apt install git curl llvm clang cmake make libelf-dev golang-go ca-certificates libelf-dev runc -y

RUN git clone https://github.com/kubescape/ebpf-engine /etc/kubescape_ebpf_engine_sc
WORKDIR /etc/kubescape_ebpf_engine_sc
RUN ./install_dependencies.sh
RUN mkdir build
WORKDIR /etc/kubescape_ebpf_engine_sc/build
RUN cmake ..
RUN make all